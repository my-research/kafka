# producer ack

- ack 옵션
- 프로듀서가 메시지를 보낸 후 브로커로부터 어떤 ack 를 기다릴지 설정하는 옵셤
  - 옵션의 수가 작으면 성능은 좋은데 메시지 손실 가능성이 있음
- 옵션 값
  - `acks=0`
    - 브로커로부터 어떤 ack 도 기다리지 않음
    - 메시지 전송은 브로커에게 보내지기만 하면 됨
    - 가장 빠른 속도 but 가장 신뢰성이 낮음
  - `acks=1`
    - 파티션의 리더 브로커로부터 ack 를 받음, reader 한테 ack 받고 follower 는 신경안씀
    - 리더 브로커는 메시지를 받고 확인을 보낼 때까지 기다리지만, 팔로워 브로커들은 따로 확인을 보내지 않습니다.
    - 일반적인 옵션
  - `acks=all` 혹은 `acks=-1`
    - 모든 브로커로부터 ack 를 받음
    - 모든 브로커의 follower 들이 메시지를 성공적으로 저장하고 ack 를 보낼 때까지 대기
    - 가장 높은 신뢰성 but 가장 느린 속도
