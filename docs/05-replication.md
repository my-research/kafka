# replication

- 카프카의 고가용성을 위해서 설계된 개념
- 동일한 파티션을 여러개로(replica) 으로 나눔
  - 리더: 읽기 쓰기가 발생하는 파티션
  - 팔로워: 데이터 싱크만 유지
- 리플리케이션은 서로 다른 브로커에 위치함
- 리더에 장애가 발생하면 팔로워중 하나가 자동으로 리더로 승격됨

# 리더와 팔로워 의 각자 역할

- 리더
  - 모든 데이터의 읽기 쓰기에 대한 요청에 응답하며 데이터를 저장
- 팔로워
  - 주기적으로 리더를 바라보며 자신에게 없는 데이터를 가져옴

# 만약 팔로워가 리더 데이터를 못 읽어와서 동기화가 안되면?

- 그럼 큰일남.
  - 리더가 다운되었을 때 팔로워가 승격되는데, 팔로워에 데이터가 누락되었을 수 있으므로
- 해결책으로 ISR (In Sync Replica) 라는 개념을 도입
